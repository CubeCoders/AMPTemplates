[
    {
        "UpdateStageName": "Load Map",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd aloft/1660080 && [ -e \\\"saves/{{MapName}}\\\" ] || { STEAM_COMPAT_DATA_PATH=\\\"{{$FullRootDir}}.proton/compatdata\\\" STEAM_COMPAT_CLIENT_INSTALL_PATH=\\\"{{$FullBaseDir}}.steam/steam\\\" {{$FullRootDir}}.proton/proton runinprefix \\\"{{$FullBaseDir}}Aloft.exe\\\" -batchmode -nographics -server create#{{MapName}}#{{IslandNumber}}#{{CreativeMode}}# log#{{log}}# && wait; }\"",
        "UpdateSourceConditionSetting": "StartMode",
        "UpdateSourceConditionValue": "LoadMap",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Load Map",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd aloft\\1660080 & if not exist \"saves\\{{MapName}}\" ( Aloft.exe -batchmode -nographics -server create#{{MapName}}#{{IslandNumber}}#{{CreativeMode}}# log#{{log}}# )",
        "UpdateSourceConditionSetting": "StartMode",
        "UpdateSourceConditionValue": "LoadMap",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Map",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd aloft/1660080 && STEAM_COMPAT_DATA_PATH=\\\"{{$FullRootDir}}.proton/compatdata\\\" STEAM_COMPAT_CLIENT_INSTALL_PATH=\\\"{{$FullBaseDir}}.steam/steam\\\" {{$FullRootDir}}.proton/proton runinprefix \\\"{{$FullBaseDir}}Aloft.exe\\\" -batchmode -nographics -server create#{{MapName}}#{{IslandNumber}}#{{CreativeMode}}# log#{{log}}# && wait\"",
        "UpdateSourceConditionSetting": "StartMode",
        "UpdateSourceConditionValue": "CreateMap",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Map",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd aloft\\1660080 & Aloft.exe -batchmode -nographics -server create#{{MapName}}#{{IslandNumber}}#{{CreativeMode}}# log#{{log}}#",
        "UpdateSourceConditionSetting": "StartMode",
        "UpdateSourceConditionValue": "CreateMap",
        "SkipOnFailure": false
    }
]
