[
    {
        "UpdateStageName": "Create Text-To-Speech Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullBaseDir}}tts",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Text-To-Speech Download Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullBaseDir}}tts/download",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create yt-dlp Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullBaseDir}}yt-dlp",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create TS3 Plugins Directory",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullBaseDir}}TeamSpeak3-Client-linux_amd64/plugins",
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "./TeamSpeak3-Client-linux_amd64/ts3client_linux_amd64",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create 7-Zip Directory",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullBaseDir}}7-Zip",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "7-Zip Installation",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"$ProgressPreference='SilentlyContinue'; [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; Set-Location -Path 'sinusbot/7-Zip'; if (Test-Path '7z.exe') { exit 0 } else { Invoke-WebRequest -UseBasicParsing -Uri 'https://7-zip.org/a/7z2409-x64.exe' -OutFile '7z-installer.exe' }; if ($?) { Invoke-WebRequest -UseBasicParsing -Uri 'https://www.7-zip.org/a/7zr.exe' -OutFile '7zr.exe' }; if ($?) { & ./7zr.exe x -y -aoa 7z-installer.exe *> $null 2>&1; Remove-Item -Path '7z-installer.exe' -Force -ErrorAction SilentlyContinue | Out-Null }\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download SinusBot",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://www.sinusbot.com/dl/sinusbot.current.tar.bz2",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download SinusBot",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://www.sinusbot.com/dl/sinusbot-setup.exe",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Install SinusBot",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"$ProgressPreference='SilentlyContinue'; [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; Set-Location -Path 'sinusbot'; & ./7-Zip/7z.exe x -y -aoa sinusbot-setup.exe | Out-Null; Remove-Item -Path 'sinusbot-setup.exe' -Force -ErrorAction SilentlyContinue | Out-Null\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download Text-To-Speech",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://chromium.googlesource.com/chromiumos/platform/assets/+archive/master/speech_synthesis/patts.tar.gz",
        "UpdateSourceTarget": "{{$FullBaseDir}}tts/download",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Install Text-To-Speech",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd sinusbot/tts/download && unzip -q tts_service_x86_64.nexe.zip && mv -f tts_service_x86_64.nexe voice_lstm_*.zvoice \\\"{{$FullBaseDir}}tts\\\" && cd .. && rm -rf download\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download yt-dlp",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp",
        "UpdateSourceTarget": "{{$FullBaseDir}}yt-dlp",
        "OverwriteExistingFiles": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download yt-dlp",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp.exe",
        "UpdateSourceTarget": "{{$FullBaseDir}}yt-dlp",
        "OverwriteExistingFiles": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Remove TeamSpeak 3 Client",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"rm -rf sinusbot/TeamSpeak3-Client-linux_amd64\"",
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove TeamSpeak 3 Client",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"Remove-Item -Path \\\"sinusbot/TeamSpeak 3 Client\\\" -Recurse -Force -ErrorAction SilentlyContinue | Out-Null\"",
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Download TeamSpeak 3 Client",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://files.teamspeak-services.com/releases/client/3.6.2/TeamSpeak3-Client-linux_amd64-3.6.2.run",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "./TeamSpeak3-Client-linux_amd64/ts3client_linux_amd64",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download TeamSpeak 3 Client",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://files.teamspeak-services.com/releases/client/3.6.2/TeamSpeak3-Client-win64-3.6.2.exe",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "./TeamSpeak 3 Client/TeamSpeak3-Client-win64.exe",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Install TeamSpeak 3 Client",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd sinusbot && chmod 755 TeamSpeak3-Client-linux_amd64-*.run && yes | ./TeamSpeak3-Client-linux_amd64-*.run && rm -rf TeamSpeak3-Client-linux_amd64-*.run data/ts3 TeamSpeak3-Client-linux_amd64/xcbglintegrations/libqxcb-glx-integration.so && \\cp -f plugin/libsoundbot_plugin.so TeamSpeak3-Client-linux_amd64/plugins\"",
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "./TeamSpeak3-Client-linux_amd64/ts3client_linux_amd64",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Install TeamSpeak 3 Client",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"Rename-Item -Path 'sinusbot/TeamSpeak 3 Client/TeamSpeak3-Client-win64-3.6.2.exe' -NewName 'sinusbot/TeamSpeak 3 Client/TeamSpeak3-Client-win64.exe\"",
        "UpdateSourceConditionSetting": "BotMode",
        "UpdateSourceConditionValue": "./TeamSpeak 3 Client/TeamSpeak3-Client-win64.exe",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Config.ini Download",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://raw.githubusercontent.com/CubeCoders/AMPTemplates/main/sinusbotconfig.ini",
        "UpdateSourceArgs": "config.ini",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "OverwriteExistingFiles": false,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Make Binaries Executable",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd sinusbot && chmod 755 sinusbot yt-dlp/yt-dlp\"",
        "SkipOnFailure": false
    }
]