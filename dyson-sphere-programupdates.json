[
    {
        "UpdateStageName":"SteamCMD Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"SteamCMD",
        "UpdateSourceData":"1366540",
        "UpdateSourceArgs":"1366540",
        "ForceDownloadPlatform":"Windows"
    },
    {
        "UpdateStageName":"Steam Emu Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://gitlab.com/Mr_Goldberg/goldberg_emulator/-/jobs/2987292049/artifacts/raw/steam_api64.dll",
        "UpdateSourceTarget":"{{$FullBaseDir}}DSPGAME_Data/Plugins",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"steam_settings Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}DSPGAME_Data/Plugins/steam_settings"
    },
    {
        "UpdateStageName":"disable_networking.txt File Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateFile",
        "UpdateSourceData":"",
        "UpdateSourceArgs":"{{$FullBaseDir}}DSPGAME_Data/Plugins/steam_settings/disable_networking.txt",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"steam_appid.txt File Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateFile",
        "UpdateSourceData":"1366540",
        "UpdateSourceArgs":"{{$FullBaseDir}}DSPGAME_Data/Plugins/steam_appid.txt",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"steam_appid.txt File Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateFile",
        "UpdateSourceData":"1366540",
        "UpdateSourceArgs":"{{$FullBaseDir}}steam_appid.txt",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"BepInEx Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://github.com/BepInEx/BepInEx/releases/download/v5.4.20/BepInEx_x64_5.4.20.0.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"BepInEx plugins Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/plugins"
    },
    {
        "UpdateStageName":"BepInEx patchers Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/patchers"
    },
    {
        "UpdateStageName":"BepInEx config Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/config"
    },
    {
        "UpdateStageName":"Nebula Mods Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"GithubRelease",
        "UpdateSourceArgs":"NebulaModTeam/nebula",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/plugins",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"nebula.cfg File Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://raw.githubusercontent.com/Greelan/AMPTemplates/dev/dyson-sphere-programnebula.cfg",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/config",
        "UpdateSourceArgs":"nebula.cfg",
        "OverwriteExistingFiles":false
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/temp"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/plugins/IlLine"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/plugins/CommonAPI"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/patchers/CommonAPI"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/plugins/BulletTime"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/plugins/LDBTool"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}BepInEx/plugins/DSPModSave"
    },
    {
        "UpdateStageName":"Required Mods Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://gcdn.thunderstore.io/live/repository/packages/PhantomGamers-IlLine-1.0.0.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/plugins/IlLine",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Required Mods Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://gcdn.thunderstore.io/live/repository/packages/CommonAPI-CommonAPI-1.6.5.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/temp",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Required Mods Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://gcdn.thunderstore.io/live/repository/packages/starfi5h-BulletTime-1.4.7.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/plugins/BulletTime",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Required Mods Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://gcdn.thunderstore.io/live/repository/packages/xiaoye97-LDBTool-3.0.1.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/plugins/LDBTool",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Required Mods Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://gcdn.thunderstore.io/live/repository/packages/CommonAPI-DSPModSave-1.2.1.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}BepInEx/plugins/DSPModSave",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"CommonAPI Files Copy",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"Executable",
        "UpdateSourceData":"cmd.exe",
        "UpdateSourceArgs":"/C cd dsp\\1366540\\BepInEx && xcopy /E /Y /I temp\\plugins\\* plugins\\CommonAPI\\ > NUL 2>&1 && xcopy /E /Y /I temp\\patchers\\* patchers\\CommonAPI\\ > NUL 2>&1 && rmdir /Q /S temp > NUL 2>&1",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"CommonAPI Files Copy",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c \"cd dsp/1366540/BepInEx && \\cp -rf temp/plugins/* plugins/CommonAPI/ >/dev/null 2>&1 && \\cp -rf temp/patchers/* patchers/CommonAPI/ >/dev/null 2>&1 && rm -rf temp >/dev/null 2>&1\"",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"Initialise Wine",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c \"WINEPREFIX=\\\"{{$FullRootDir}}.wine\\\" WINEARCH=win64 WINEDLLOVERRIDES=\\\"mscoree,mshtml=\\\" WINEDEBUG=-all /usr/bin/wineboot --init --update\"",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"Winescript Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://raw.githubusercontent.com/Greelan/AMPTemplates/dev/dyson-sphere-programwinescript.sh",
        "UpdateSourceArgs":"winescript.sh",
        "UpdateSourceTarget":"{{$FullInstanceDir}}",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"Install Windows Components",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"./winescript.sh",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"Data Directory Creation",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"Executable",
        "UpdateSourceData":"cmd.exe",
        "UpdateSourceArgs":"/C mkdir \"%UserProfile%\\Documents\\Dyson Sphere Program\" > NUL 2>&1 & rd /S /Q \"{{$FullBaseDir}}Dyson Sphere Program\" & mklink /J \"{{$FullBaseDir}}Dyson Sphere Program\" \"%UserProfile%\\Documents\\Dyson Sphere Program\"",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"Data Directory Creation",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c \"mkdir -p \\\"{{$FullBaseDir}}yson Sphere Program\\\"; cd dsp/.wine/drive_c/users/amp/Documents && ln -sf \\\"../../../../../1366540/Dyson Sphere Program\\\" ./\"",
        "SkipOnFailure":false
    }
]
