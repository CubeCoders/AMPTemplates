[
    {
        "UpdateStageName":"Luanti Download",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://github.com/minetest/minetest/releases/download/{{ServerVersion}}/luanti-{{ServerVersion}}-win64.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Luanti Copy",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"Executable",
        "UpdateSourceData":"cmd.exe",
        "UpdateSourceArgs":"/C xcopy /E /Y /I luanti\\server\\luanti-{{ServerVersion}}-win64\\* luanti\\server\\ && rmdir /Q /S luanti\\server\\luanti-{{ServerVersion}}-win64",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"Luanti Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://github.com/rollerozxa/luantiserver/releases/download/{{ServerVersion}}/luantiserver-{{ServerVersion}}.tar.gz",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Games Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}games"
    },
    {
        "UpdateStageName":"Mods Directory Creation",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}mods"
    },
    {
        "UpdateStageName":"Game Config File Copy",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CopyFilePath",
        "UpdateSourceData":"{{$FullBaseDir}}minetest.conf",
        "UpdateSourceArgs":"{{$FullBaseDir}}minetest.conf.example",
        "OverwriteExistingFiles":false
    }
]
