[
    {
        "UpdateStageName": "SteamCMD Download",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "SteamCMD",
        "UpdateSourceData": "545990",
        "UpdateSourceArgs": "311210",
        "ForceDownloadPlatform": "Windows"
    },
    {
        "UpdateStageName": "T7X.exe Download",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://master.bo3.eu/t7x/t7x.exe",
        "UpdateSourceTarget": "{{$FullBaseDir}}UnrankedServer",
        "OverwriteExistingFiles": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Configs Download Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullRootDir}}configs"
    },
    {
        "UpdateStageName": "T7 Config Files Download",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/Dss0/t7-server-config/archive/refs/heads/main.zip",
        "UpdateSourceTarget": "{{$FullRootDir}}configs",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Config Files Copy",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"\\cp -r -n .//call-of-duty-bo3/configs/t7-server-config-main/boiii .//call-of-duty-bo3/545990/UnrankedServer/ >/dev/null 2>&1 && \\cp -r -n .//call-of-duty-bo3/configs/t7-server-config-main/zone .//call-of-duty-bo3/545990/UnrankedServer/ >/dev/null 2>&1 && rm -rf .//call-of-duty-bo3/configs/\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Config Files Copy",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C robocopy call-of-duty-bo3\\configs\\t7-server-config-main\\boiii call-of-duty-bo3\\545990\\UnrankedServer\\boiii /E /XC /XN /XO > NUL 2>&1 & @if %ERRORLEVEL% GTR 7 (exit /b %ERRORLEVEL%) else (robocopy call-of-duty-bo3\\configs\\t7-server-config-main\\zone call-of-duty-bo3\\545990\\UnrankedServer\\zone /E /XC /XN /XO > NUL 2>&1) & @if %ERRORLEVEL% GTR 7 (exit /b %ERRORLEVEL%) else (rd /S /Q call-of-duty-bo3\\configs)",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Mods Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{$FullBaseDir}}UnrankedServer/mods"
    },
    {
        "UpdateStageName": "Initialise Wine",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"rm -rf \\\"{{$FullRootDir}}.wine\\\" >/dev/null 2>&1; WINEPREFIX=\\\"{{$FullRootDir}}.wine\\\" WINEARCH=win64 WINEDEBUG=-all /usr/bin/wineboot --init\"",
        "SkipOnFailure": false
    }
]